<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pastel Planner</title>

<style>
:root{
  --bg: linear-gradient(135deg,#e8f5e9,#fce4ec,#e3f2fd);
  --card:#ffffffcc;
  --text:#444;
}

.dark{
  --bg: linear-gradient(135deg,#2e2e3a,#3a2e3a,#2e3a3a);
  --card:#2f2f3fcc;
  --text:#eee;
}

body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:var(--bg);
  min-height:100vh;
  padding:30px;
  color:var(--text);
  transition:.3s;
}

h1{text-align:center;margin-bottom:20px;}

.toggle{
  text-align:center;
  margin-bottom:20px;
}

.container{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:25px;
}

.card{
  background:var(--card);
  backdrop-filter:blur(12px);
  border-radius:20px;
  padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
}

.card h2{text-align:center;}

textarea,input{
  width:100%;
  border:none;
  border-radius:10px;
  padding:10px;
  margin-top:10px;
  outline:none;
}

button{
  width:100%;
  margin-top:10px;
  border:none;
  border-radius:12px;
  padding:10px;
  background:#b39ddb;
  color:white;
  cursor:pointer;
}

.note{
  background:#fff9c4;
  padding:10px;
  border-radius:12px;
  margin-bottom:10px;
  cursor:grab;
}

ul{list-style:none;padding:0;}
li{
  background:#e1f5fe;
  padding:8px;
  border-radius:10px;
  margin-bottom:8px;
  display:flex;
  gap:8px;
  align-items:center;
}

.planner-item{
  background:#fce4ec;
  padding:10px;
  border-radius:10px;
  margin-bottom:8px;
}

audio{display:none;}
</style>
</head>

<body>

<h1>ğŸŒ¸ Pastel Productivity Space ğŸŒ¸</h1>

<div class="toggle">
  <button onclick="toggleDark()">ğŸŒ™ Toggle Dark Mode</button>
  <button onclick="toggleMusic()">ğŸµ Music</button>
</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_5c62a00d33.mp3">
</audio>

<div class="container">

<!-- NOTES -->
<div class="card">
<h2>ğŸ—’ï¸ Sticky Notes</h2>
<div id="notes"></div>
<textarea id="noteText" placeholder="Write a note..."></textarea>
<button onclick="addNote()">Add Note</button>
</div>

<!-- TODO -->
<div class="card">
<h2>âœ… To-Do List</h2>
<input id="todoInput" placeholder="New task...">
<button onclick="addTodo()">Add Task</button>
<ul id="todoList"></ul>
</div>

<!-- PLANNER -->
<div class="card">
<h2>ğŸ“… Activity Planner</h2>
<input id="timeInput" placeholder="Time">
<input id="activityInput" placeholder="Activity">
<button onclick="addActivity()">Add</button>
<div id="planner"></div>
</div>

</div>

<script>
/* DARK MODE */
function toggleDark(){
  document.body.classList.toggle("dark");
  localStorage.dark = document.body.classList.contains("dark");
}
if(localStorage.dark==="true") toggleDark();

/* MUSIC */
let playing=false;
function toggleMusic(){
  const m=document.getElementById("music");
  playing?m.pause():m.play();
  playing=!playing;
}

/* NOTES */
let notesData=JSON.parse(localStorage.notes||"[]");
const notesDiv=document.getElementById("notes");

function renderNotes(){
  notesDiv.innerHTML="";
  notesData.forEach((n,i)=>{
    const d=document.createElement("div");
    d.className="note";
    d.textContent=n;
    d.draggable=true;
    d.ondragstart=e=>e.dataTransfer.setData("i",i);
    d.ondblclick=()=>{notesData.splice(i,1);saveNotes();}
    notesDiv.appendChild(d);
  });
}
function addNote(){
  const t=noteText.value;
  if(!t)return;
  notesData.push(t);
  saveNotes();
  noteText.value="";
}
function saveNotes(){
  localStorage.notes=JSON.stringify(notesData);
  renderNotes();
}
renderNotes();

/* TODO */
let todos=JSON.parse(localStorage.todos||"[]");
function renderTodos(){
  todoList.innerHTML="";
  todos.forEach(t=>{
    const li=document.createElement("li");
    const c=document.createElement("input");
    c.type="checkbox";
    c.checked=t.done;
    c.onchange=()=>{t.done=c.checked;saveTodos();}
    li.appendChild(c);
    li.append(t.text);
    todoList.appendChild(li);
  });
}
function addTodo(){
  if(!todoInput.value)return;
  todos.push({text:todoInput.value,done:false});
  todoInput.value="";
  saveTodos();
}
function saveTodos(){
  localStorage.todos=JSON.stringify(todos);
  renderTodos();
}
renderTodos();

/* PLANNER */
let plans=JSON.parse(localStorage.plans||"[]");
function renderPlans(){
  planner.innerHTML="";
  plans.forEach(p=>{
    const d=document.createElement("div");
    d.className="planner-item";
    d.textContent=p;
    planner.appendChild(d);
  });
}
function addActivity(){
  if(!timeInput.value||!activityInput.value)return;
  plans.push(`${timeInput.value} â€“ ${activityInput.value}`);
  timeInput.value=activityInput.value="";
  savePlans();
}
function savePlans(){
  localStorage.plans=JSON.stringify(plans);
  renderPlans();
}
renderPlans();
</script>

</body>
</html>
